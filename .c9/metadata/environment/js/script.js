{"filter":false,"title":"script.js","tooltip":"/js/script.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":7,"column":30},"end":{"row":7,"column":62},"action":"remove","lines":["ndx.dimension(dc.pluck('name'));"],"id":435},{"start":{"row":7,"column":30},"end":{"row":7,"column":45},"action":"insert","lines":["ndx.groupAll();"]}],[{"start":{"row":7,"column":45},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":436},{"start":{"row":8,"column":0},"end":{"row":8,"column":16},"action":"insert","lines":["                "]},{"start":{"row":8,"column":16},"end":{"row":9,"column":0},"action":"insert","lines":["",""]},{"start":{"row":9,"column":0},"end":{"row":9,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":9,"column":16},"end":{"row":9,"column":38},"action":"insert","lines":["dc.dataCount(\"#total\")"],"id":437}],[{"start":{"row":10,"column":15},"end":{"row":10,"column":95},"action":"remove","lines":[" var times_person_of_the_year = name.dim.group().reduceSum(dc.pluck('country'));"],"id":438}],[{"start":{"row":10,"column":15},"end":{"row":11,"column":31},"action":"insert","lines":["crossfilter(ndx) // apply the crossfilter","            .groupAll(allData);"],"id":439}],[{"start":{"row":10,"column":15},"end":{"row":10,"column":16},"action":"insert","lines":["."],"id":440}],[{"start":{"row":8,"column":0},"end":{"row":8,"column":16},"action":"remove","lines":["                "],"id":441},{"start":{"row":10,"column":0},"end":{"row":10,"column":5},"action":"insert","lines":["     "]},{"start":{"row":11,"column":0},"end":{"row":11,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":10,"column":38},"end":{"row":10,"column":62},"action":"remove","lines":["// apply the crossfilter"],"id":442}],[{"start":{"row":11,"column":39},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":443},{"start":{"row":12,"column":0},"end":{"row":12,"column":20},"action":"insert","lines":["                    "]},{"start":{"row":12,"column":20},"end":{"row":13,"column":0},"action":"insert","lines":["",""]},{"start":{"row":13,"column":0},"end":{"row":13,"column":20},"action":"insert","lines":["                    "]}],[{"start":{"row":13,"column":20},"end":{"row":27,"column":0},"action":"insert","lines":["data.forEach(function (d) {","","            //----- parsing NUMBERS","            // my .csv/.json files have columns with numbers, so need to parse them","            d.Rank = parseInt(d.Rank); // column called 'Rank'","            d.Rating = parseFloat(d.Rating); // column called 'Rating'","            d.Reviews = parseInt(d.Reviews); // column called 'Reviews'","","            //----- parsing DATES","            //var fullDateFormat = d3.time.format(\"%a, %d %b %Y %X %Z\");","            //var yearFormat = d3.time.format(\"%Y\");","            //var monthFormat = d3.time.format(\"%b\");","            //var dayOfWeekFormat = d3.time.format(\"%a\");","        });",""],"id":444}],[{"start":{"row":17,"column":14},"end":{"row":17,"column":18},"action":"remove","lines":["Rank"],"id":445},{"start":{"row":17,"column":14},"end":{"row":17,"column":15},"action":"insert","lines":["Y"]},{"start":{"row":17,"column":15},"end":{"row":17,"column":16},"action":"insert","lines":["e"]},{"start":{"row":17,"column":16},"end":{"row":17,"column":17},"action":"insert","lines":["a"]},{"start":{"row":17,"column":17},"end":{"row":17,"column":18},"action":"insert","lines":["r"]}],[{"start":{"row":18,"column":14},"end":{"row":18,"column":20},"action":"remove","lines":["Rating"],"id":446},{"start":{"row":18,"column":14},"end":{"row":18,"column":15},"action":"insert","lines":["B"]},{"start":{"row":18,"column":15},"end":{"row":18,"column":16},"action":"insert","lines":["i"]},{"start":{"row":18,"column":16},"end":{"row":18,"column":17},"action":"insert","lines":["r"]},{"start":{"row":18,"column":17},"end":{"row":18,"column":18},"action":"insert","lines":["t"]},{"start":{"row":18,"column":18},"end":{"row":18,"column":19},"action":"insert","lines":["h"]}],[{"start":{"row":18,"column":19},"end":{"row":18,"column":20},"action":"insert","lines":["Y"],"id":447},{"start":{"row":18,"column":20},"end":{"row":18,"column":21},"action":"insert","lines":["e"]},{"start":{"row":18,"column":21},"end":{"row":18,"column":22},"action":"insert","lines":["a"]},{"start":{"row":18,"column":22},"end":{"row":18,"column":23},"action":"insert","lines":["r"]}],[{"start":{"row":19,"column":14},"end":{"row":19,"column":21},"action":"remove","lines":["Reviews"],"id":448},{"start":{"row":19,"column":14},"end":{"row":19,"column":15},"action":"insert","lines":["D"]},{"start":{"row":19,"column":15},"end":{"row":19,"column":16},"action":"insert","lines":["e"]},{"start":{"row":19,"column":16},"end":{"row":19,"column":17},"action":"insert","lines":["a"]},{"start":{"row":19,"column":17},"end":{"row":19,"column":18},"action":"insert","lines":["t"]},{"start":{"row":19,"column":18},"end":{"row":19,"column":19},"action":"insert","lines":["h"]},{"start":{"row":19,"column":19},"end":{"row":19,"column":20},"action":"insert","lines":["Y"]},{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"insert","lines":["e"]},{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"insert","lines":["a"]},{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"insert","lines":["r"]}],[{"start":{"row":17,"column":32},"end":{"row":17,"column":36},"action":"remove","lines":["Rank"],"id":449},{"start":{"row":17,"column":32},"end":{"row":17,"column":33},"action":"insert","lines":["Y"]},{"start":{"row":17,"column":33},"end":{"row":17,"column":34},"action":"insert","lines":["e"]},{"start":{"row":17,"column":34},"end":{"row":17,"column":35},"action":"insert","lines":["a"]},{"start":{"row":17,"column":35},"end":{"row":17,"column":36},"action":"insert","lines":["r"]}],[{"start":{"row":13,"column":12},"end":{"row":26,"column":11},"action":"remove","lines":["        data.forEach(function (d) {","","            //----- parsing NUMBERS","            // my .csv/.json files have columns with numbers, so need to parse them","            d.Year = parseInt(d.Year); // column called 'Rank'","            d.BirthYear = parseFloat(d.Rating); // column called 'Rating'","            d.DeathYear = parseInt(d.Reviews); // column called 'Reviews'","","            //----- parsing DATES","            //var fullDateFormat = d3.time.format(\"%a, %d %b %Y %X %Z\");","            //var yearFormat = d3.time.format(\"%Y\");","            //var monthFormat = d3.time.format(\"%b\");","            //var dayOfWeekFormat = d3.time.format(\"%a\");","        });"],"id":450}],[{"start":{"row":13,"column":12},"end":{"row":13,"column":107},"action":"insert","lines":["byCuisine(ndx, \"#cuisine\", \"Cuisine\"); // pieChart on div#cuisine from column 'Cuisine' in file"],"id":451}],[{"start":{"row":13,"column":20},"end":{"row":13,"column":21},"action":"remove","lines":["e"],"id":452},{"start":{"row":13,"column":19},"end":{"row":13,"column":20},"action":"remove","lines":["n"]},{"start":{"row":13,"column":18},"end":{"row":13,"column":19},"action":"remove","lines":["i"]},{"start":{"row":13,"column":17},"end":{"row":13,"column":18},"action":"remove","lines":["s"]},{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"remove","lines":["i"]},{"start":{"row":13,"column":15},"end":{"row":13,"column":16},"action":"remove","lines":["u"]}],[{"start":{"row":13,"column":15},"end":{"row":13,"column":16},"action":"insert","lines":["o"],"id":453},{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"insert","lines":["u"]},{"start":{"row":13,"column":17},"end":{"row":13,"column":18},"action":"insert","lines":["n"]},{"start":{"row":13,"column":18},"end":{"row":13,"column":19},"action":"insert","lines":["t"]},{"start":{"row":13,"column":19},"end":{"row":13,"column":20},"action":"insert","lines":["r"]},{"start":{"row":13,"column":20},"end":{"row":13,"column":21},"action":"insert","lines":["y"]}],[{"start":{"row":13,"column":35},"end":{"row":13,"column":36},"action":"remove","lines":["e"],"id":454},{"start":{"row":13,"column":34},"end":{"row":13,"column":35},"action":"remove","lines":["n"]},{"start":{"row":13,"column":33},"end":{"row":13,"column":34},"action":"remove","lines":["i"]},{"start":{"row":13,"column":32},"end":{"row":13,"column":33},"action":"remove","lines":["s"]},{"start":{"row":13,"column":31},"end":{"row":13,"column":32},"action":"remove","lines":["i"]},{"start":{"row":13,"column":30},"end":{"row":13,"column":31},"action":"remove","lines":["u"]},{"start":{"row":13,"column":29},"end":{"row":13,"column":30},"action":"remove","lines":["c"]}],[{"start":{"row":13,"column":29},"end":{"row":13,"column":30},"action":"insert","lines":["y"],"id":455}],[{"start":{"row":13,"column":29},"end":{"row":13,"column":30},"action":"remove","lines":["y"],"id":456}],[{"start":{"row":13,"column":29},"end":{"row":13,"column":30},"action":"insert","lines":["b"],"id":457},{"start":{"row":13,"column":30},"end":{"row":13,"column":31},"action":"insert","lines":["y"]},{"start":{"row":13,"column":31},"end":{"row":13,"column":32},"action":"insert","lines":["-"]},{"start":{"row":13,"column":32},"end":{"row":13,"column":33},"action":"insert","lines":["c"]},{"start":{"row":13,"column":33},"end":{"row":13,"column":34},"action":"insert","lines":["i"]},{"start":{"row":13,"column":34},"end":{"row":13,"column":35},"action":"insert","lines":["b"]},{"start":{"row":13,"column":35},"end":{"row":13,"column":36},"action":"insert","lines":["="]},{"start":{"row":13,"column":36},"end":{"row":13,"column":37},"action":"insert","lines":["="]}],[{"start":{"row":13,"column":36},"end":{"row":13,"column":37},"action":"remove","lines":["="],"id":458},{"start":{"row":13,"column":35},"end":{"row":13,"column":36},"action":"remove","lines":["="]},{"start":{"row":13,"column":34},"end":{"row":13,"column":35},"action":"remove","lines":["b"]},{"start":{"row":13,"column":33},"end":{"row":13,"column":34},"action":"remove","lines":["i"]}],[{"start":{"row":13,"column":33},"end":{"row":13,"column":34},"action":"insert","lines":["y"],"id":459}],[{"start":{"row":13,"column":33},"end":{"row":13,"column":34},"action":"remove","lines":["y"],"id":460}],[{"start":{"row":13,"column":33},"end":{"row":13,"column":34},"action":"insert","lines":["o"],"id":461},{"start":{"row":13,"column":34},"end":{"row":13,"column":35},"action":"insert","lines":["u"]},{"start":{"row":13,"column":35},"end":{"row":13,"column":36},"action":"insert","lines":["n"]},{"start":{"row":13,"column":36},"end":{"row":13,"column":37},"action":"insert","lines":["t"]},{"start":{"row":13,"column":37},"end":{"row":13,"column":38},"action":"insert","lines":["r"]},{"start":{"row":13,"column":38},"end":{"row":13,"column":39},"action":"insert","lines":["y"]}],[{"start":{"row":13,"column":39},"end":{"row":13,"column":40},"action":"insert","lines":["-"],"id":462},{"start":{"row":13,"column":40},"end":{"row":13,"column":41},"action":"insert","lines":["c"]},{"start":{"row":13,"column":41},"end":{"row":13,"column":42},"action":"insert","lines":["h"]},{"start":{"row":13,"column":42},"end":{"row":13,"column":43},"action":"insert","lines":["a"]},{"start":{"row":13,"column":43},"end":{"row":13,"column":44},"action":"insert","lines":["r"]},{"start":{"row":13,"column":44},"end":{"row":13,"column":45},"action":"insert","lines":["t"]}],[{"start":{"row":13,"column":49},"end":{"row":13,"column":56},"action":"remove","lines":["Cuisine"],"id":463},{"start":{"row":13,"column":49},"end":{"row":13,"column":50},"action":"insert","lines":["C"]},{"start":{"row":13,"column":50},"end":{"row":13,"column":51},"action":"insert","lines":["o"]},{"start":{"row":13,"column":51},"end":{"row":13,"column":52},"action":"insert","lines":["u"]},{"start":{"row":13,"column":52},"end":{"row":13,"column":53},"action":"insert","lines":["n"]},{"start":{"row":13,"column":53},"end":{"row":13,"column":54},"action":"insert","lines":["r"]}],[{"start":{"row":13,"column":53},"end":{"row":13,"column":54},"action":"remove","lines":["r"],"id":464}],[{"start":{"row":13,"column":53},"end":{"row":13,"column":54},"action":"insert","lines":["t"],"id":465},{"start":{"row":13,"column":54},"end":{"row":13,"column":55},"action":"insert","lines":["r"]},{"start":{"row":13,"column":55},"end":{"row":13,"column":56},"action":"insert","lines":["y"]}],[{"start":{"row":18,"column":32},"end":{"row":19,"column":0},"action":"insert","lines":["",""],"id":466},{"start":{"row":19,"column":0},"end":{"row":19,"column":20},"action":"insert","lines":["                    "]},{"start":{"row":19,"column":20},"end":{"row":20,"column":0},"action":"insert","lines":["",""]},{"start":{"row":20,"column":0},"end":{"row":20,"column":20},"action":"insert","lines":["                    "]}],[{"start":{"row":20,"column":20},"end":{"row":20,"column":35},"action":"insert","lines":["dc.renderAll();"],"id":467}],[{"start":{"row":10,"column":37},"end":{"row":10,"column":38},"action":"remove","lines":[" "],"id":468},{"start":{"row":12,"column":0},"end":{"row":12,"column":13},"action":"remove","lines":["             "]},{"start":{"row":12,"column":0},"end":{"row":13,"column":0},"action":"insert","lines":["",""]},{"start":{"row":13,"column":4},"end":{"row":14,"column":0},"action":"remove","lines":["   ",""]},{"start":{"row":19,"column":0},"end":{"row":19,"column":20},"action":"remove","lines":["                    "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":16,"column":15},"end":{"row":18,"column":32},"action":"remove","lines":[" dc.pieChart(\"#by-country-chart\")","                    .width(768)","                    .height(480)"],"id":469}],[{"start":{"row":16,"column":14},"end":{"row":16,"column":15},"action":"remove","lines":[" "],"id":470},{"start":{"row":16,"column":13},"end":{"row":16,"column":14},"action":"remove","lines":[" "]},{"start":{"row":16,"column":12},"end":{"row":16,"column":13},"action":"remove","lines":[" "]},{"start":{"row":16,"column":8},"end":{"row":16,"column":12},"action":"remove","lines":["    "]},{"start":{"row":16,"column":4},"end":{"row":16,"column":8},"action":"remove","lines":["    "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"remove","lines":["    "]},{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"remove","lines":["",""]},{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"remove","lines":["",""]},{"start":{"row":13,"column":120},"end":{"row":14,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":16,"column":13},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":471},{"start":{"row":17,"column":0},"end":{"row":17,"column":12},"action":"insert","lines":["            "]},{"start":{"row":17,"column":12},"end":{"row":18,"column":0},"action":"insert","lines":["",""]},{"start":{"row":18,"column":0},"end":{"row":18,"column":12},"action":"insert","lines":["            "]},{"start":{"row":18,"column":12},"end":{"row":19,"column":0},"action":"insert","lines":["",""]},{"start":{"row":19,"column":0},"end":{"row":19,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":19,"column":12},"end":{"row":68,"column":0},"action":"insert","lines":["function byCuisine(ndx, divName, dimension) {","        // variables required for the chart (crossfilter, div#, column) ??ARGUMENTS??","        var pieChartCuisine = dc.pieChart(divName);","        var dim = ndx.dimension(dc.pluck(dimension));","        var group = dim.group();","","        // ??COLORS?? | custom colors passed below for this chart only","        //var myColors = d3.scaleOrdinal(d3.schemeSpectral[11]);","","        // ??RESET?? only this specific chart","        d3.selectAll(\"#resetCuisine\").on(\"click\", function () {","            pieChartCuisine.filterAll();","            dc.redrawAll();","        });","","        pieChartCuisine","            .dimension(dim) // plucks the data (by Cuisine column)","            .group(group) // groups the data for this chart","            .width(250) // use carefully with .useViewBoxResizing","            .height(150) // use carefully with .useViewBoxResizing","            .useViewBoxResizing(true) // allows chart to be responsive (might need to add CSS 'width')","            .innerRadius(30) // creates ??DONUT?? effect on pie charts (disable for ??PIE?? chart)","            .externalRadiusPadding(10) // padding (but makes chart smaller)","            .externalLabels(10) // moves label text outward (otherwise in pie slice)","            .drawPaths(true) // shows line/path to labels","            .slicesCap(20) // maximum number of items to show on chart","            .minAngleForLabel(0) // from 0 to 1 (ie: 0.25) // min-size per slice to display a label","            .transitionDuration(1000) // animation speed (1000ms)","            .transitionDelay(500) // delay animation start (by 500ms)","            .title(function (d) { // hover text with info per chart item","                if (d.value === 1) { // if filtered to only '1' item","                    return d.value + \" restaurant is \" + d.key; // then make the text singular","                } else { // otherwise","                    return d.value + \" restaurants are \" + d.key; // make the text plural","                }","            })","        //.colors(myColors) // custom color scheme for this chart only","        // .legend shows a small legend or key on the chart","        //.legend(dc.legend().x(0).y(0).itemHeight(5).gap(5))","        // below function will append the amount of items filtered per option on the legend","        /*.on(\"pretransition\", function (chart) {","            chart.selectAll(\".dc-legend-item text\")","                .text(function (d) {","                    return d.name + \" (\" + d.data + \")\"; // ie: \"Italian (455)\"","                })","        })*/","        ;","    }","",""],"id":472}],[{"start":{"row":19,"column":29},"end":{"row":19,"column":30},"action":"remove","lines":["e"],"id":473},{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"remove","lines":["n"]},{"start":{"row":19,"column":27},"end":{"row":19,"column":28},"action":"remove","lines":["i"]},{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"remove","lines":["s"]},{"start":{"row":19,"column":25},"end":{"row":19,"column":26},"action":"remove","lines":["i"]},{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"remove","lines":["u"]},{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"remove","lines":["C"]}],[{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"insert","lines":["C"],"id":474},{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"insert","lines":["o"]},{"start":{"row":19,"column":25},"end":{"row":19,"column":26},"action":"insert","lines":["u"]},{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"insert","lines":["n"]},{"start":{"row":19,"column":27},"end":{"row":19,"column":28},"action":"insert","lines":["t"]},{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"insert","lines":["r"]},{"start":{"row":19,"column":29},"end":{"row":19,"column":30},"action":"insert","lines":["y"]}],[{"start":{"row":19,"column":36},"end":{"row":19,"column":43},"action":"remove","lines":["divName"],"id":475},{"start":{"row":19,"column":36},"end":{"row":19,"column":37},"action":"insert","lines":["#"]},{"start":{"row":19,"column":37},"end":{"row":19,"column":38},"action":"insert","lines":["b"]},{"start":{"row":19,"column":38},"end":{"row":19,"column":39},"action":"insert","lines":["y"]}],[{"start":{"row":19,"column":39},"end":{"row":19,"column":40},"action":"insert","lines":["-"],"id":476},{"start":{"row":19,"column":40},"end":{"row":19,"column":41},"action":"insert","lines":["c"]},{"start":{"row":19,"column":41},"end":{"row":19,"column":42},"action":"insert","lines":["o"]},{"start":{"row":19,"column":42},"end":{"row":19,"column":43},"action":"insert","lines":["u"]},{"start":{"row":19,"column":43},"end":{"row":19,"column":44},"action":"insert","lines":["n"]},{"start":{"row":19,"column":44},"end":{"row":19,"column":45},"action":"insert","lines":["t"]}],[{"start":{"row":19,"column":45},"end":{"row":19,"column":46},"action":"insert","lines":["r"],"id":477},{"start":{"row":19,"column":46},"end":{"row":19,"column":47},"action":"insert","lines":["y"]},{"start":{"row":19,"column":47},"end":{"row":19,"column":48},"action":"insert","lines":["-"]}],[{"start":{"row":19,"column":48},"end":{"row":19,"column":49},"action":"insert","lines":["c"],"id":478},{"start":{"row":19,"column":49},"end":{"row":19,"column":50},"action":"insert","lines":["h"]},{"start":{"row":19,"column":50},"end":{"row":19,"column":51},"action":"insert","lines":["a"]},{"start":{"row":19,"column":51},"end":{"row":19,"column":52},"action":"insert","lines":["r"]},{"start":{"row":19,"column":52},"end":{"row":19,"column":53},"action":"insert","lines":["t"]}],[{"start":{"row":19,"column":36},"end":{"row":19,"column":37},"action":"remove","lines":["#"],"id":479}],[{"start":{"row":19,"column":54},"end":{"row":19,"column":63},"action":"remove","lines":["dimension"],"id":480},{"start":{"row":19,"column":54},"end":{"row":19,"column":55},"action":"insert","lines":["c"]},{"start":{"row":19,"column":55},"end":{"row":19,"column":56},"action":"insert","lines":["o"]},{"start":{"row":19,"column":56},"end":{"row":19,"column":57},"action":"insert","lines":["u"]},{"start":{"row":19,"column":57},"end":{"row":19,"column":58},"action":"insert","lines":["n"]},{"start":{"row":19,"column":58},"end":{"row":19,"column":59},"action":"insert","lines":["t"]},{"start":{"row":19,"column":59},"end":{"row":19,"column":60},"action":"insert","lines":["r"]},{"start":{"row":19,"column":60},"end":{"row":19,"column":61},"action":"insert","lines":["y"]}],[{"start":{"row":19,"column":54},"end":{"row":19,"column":55},"action":"remove","lines":["c"],"id":481}],[{"start":{"row":19,"column":54},"end":{"row":19,"column":55},"action":"insert","lines":["C"],"id":482}],[{"start":{"row":19,"column":54},"end":{"row":19,"column":61},"action":"remove","lines":["Country"],"id":483},{"start":{"row":19,"column":54},"end":{"row":19,"column":61},"action":"insert","lines":["Country"]}],[{"start":{"row":19,"column":38},"end":{"row":19,"column":39},"action":"remove","lines":["-"],"id":484},{"start":{"row":19,"column":37},"end":{"row":19,"column":38},"action":"remove","lines":["y"]},{"start":{"row":19,"column":36},"end":{"row":19,"column":37},"action":"remove","lines":["b"]}],[{"start":{"row":19,"column":44},"end":{"row":19,"column":45},"action":"remove","lines":["c"],"id":485},{"start":{"row":19,"column":43},"end":{"row":19,"column":44},"action":"remove","lines":["-"]}],[{"start":{"row":19,"column":43},"end":{"row":19,"column":44},"action":"insert","lines":["C"],"id":486}],[{"start":{"row":13,"column":35},"end":{"row":13,"column":36},"action":"remove","lines":["-"],"id":487},{"start":{"row":13,"column":34},"end":{"row":13,"column":35},"action":"remove","lines":["y"]},{"start":{"row":13,"column":33},"end":{"row":13,"column":34},"action":"remove","lines":["b"]}],[{"start":{"row":13,"column":41},"end":{"row":13,"column":42},"action":"remove","lines":["c"],"id":488},{"start":{"row":13,"column":40},"end":{"row":13,"column":41},"action":"remove","lines":["-"]}],[{"start":{"row":13,"column":40},"end":{"row":13,"column":41},"action":"insert","lines":["C"],"id":489}],[{"start":{"row":13,"column":33},"end":{"row":13,"column":45},"action":"remove","lines":["countryChart"],"id":490},{"start":{"row":13,"column":33},"end":{"row":13,"column":45},"action":"insert","lines":["countryChart"]}],[{"start":{"row":20,"column":2},"end":{"row":20,"column":85},"action":"remove","lines":["      // variables required for the chart (crossfilter, div#, column) ??ARGUMENTS??"],"id":491}],[{"start":{"row":21,"column":26},"end":{"row":21,"column":27},"action":"remove","lines":["e"],"id":492},{"start":{"row":21,"column":25},"end":{"row":21,"column":26},"action":"remove","lines":["n"]},{"start":{"row":21,"column":24},"end":{"row":21,"column":25},"action":"remove","lines":["i"]},{"start":{"row":21,"column":23},"end":{"row":21,"column":24},"action":"remove","lines":["s"]},{"start":{"row":21,"column":22},"end":{"row":21,"column":23},"action":"remove","lines":["i"]},{"start":{"row":21,"column":21},"end":{"row":21,"column":22},"action":"remove","lines":["u"]}],[{"start":{"row":21,"column":21},"end":{"row":21,"column":22},"action":"insert","lines":["o"],"id":493},{"start":{"row":21,"column":22},"end":{"row":21,"column":23},"action":"insert","lines":["u"]},{"start":{"row":21,"column":23},"end":{"row":21,"column":24},"action":"insert","lines":["n"]},{"start":{"row":21,"column":24},"end":{"row":21,"column":25},"action":"insert","lines":["t"]},{"start":{"row":21,"column":25},"end":{"row":21,"column":26},"action":"insert","lines":["r"]},{"start":{"row":21,"column":26},"end":{"row":21,"column":27},"action":"insert","lines":["y"]}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":49},"action":"remove","lines":["divName"],"id":494},{"start":{"row":21,"column":42},"end":{"row":21,"column":43},"action":"insert","lines":["c"]},{"start":{"row":21,"column":43},"end":{"row":21,"column":44},"action":"insert","lines":["o"]},{"start":{"row":21,"column":44},"end":{"row":21,"column":45},"action":"insert","lines":["u"]},{"start":{"row":21,"column":45},"end":{"row":21,"column":46},"action":"insert","lines":["n"]},{"start":{"row":21,"column":46},"end":{"row":21,"column":47},"action":"insert","lines":["t"]}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":47},"action":"remove","lines":["count"],"id":495},{"start":{"row":21,"column":42},"end":{"row":21,"column":54},"action":"insert","lines":["countryChart"]}],[{"start":{"row":21,"column":54},"end":{"row":21,"column":55},"action":"insert","lines":[" "],"id":496}],[{"start":{"row":21,"column":54},"end":{"row":21,"column":55},"action":"remove","lines":[" "],"id":497},{"start":{"row":21,"column":53},"end":{"row":21,"column":54},"action":"remove","lines":["t"]},{"start":{"row":21,"column":52},"end":{"row":21,"column":53},"action":"remove","lines":["r"]},{"start":{"row":21,"column":51},"end":{"row":21,"column":52},"action":"remove","lines":["a"]},{"start":{"row":21,"column":50},"end":{"row":21,"column":51},"action":"remove","lines":["h"]},{"start":{"row":21,"column":49},"end":{"row":21,"column":50},"action":"remove","lines":["C"]},{"start":{"row":21,"column":48},"end":{"row":21,"column":49},"action":"remove","lines":["y"]},{"start":{"row":21,"column":47},"end":{"row":21,"column":48},"action":"remove","lines":["r"]},{"start":{"row":21,"column":46},"end":{"row":21,"column":47},"action":"remove","lines":["t"]},{"start":{"row":21,"column":45},"end":{"row":21,"column":46},"action":"remove","lines":["n"]},{"start":{"row":21,"column":44},"end":{"row":21,"column":45},"action":"remove","lines":["u"]},{"start":{"row":21,"column":43},"end":{"row":21,"column":44},"action":"remove","lines":["o"]}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":43},"action":"remove","lines":["c"],"id":498}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":43},"action":"insert","lines":["c"],"id":499},{"start":{"row":21,"column":43},"end":{"row":21,"column":44},"action":"insert","lines":["o"]},{"start":{"row":21,"column":44},"end":{"row":21,"column":45},"action":"insert","lines":["u"]},{"start":{"row":21,"column":45},"end":{"row":21,"column":46},"action":"insert","lines":["n"]},{"start":{"row":21,"column":46},"end":{"row":21,"column":47},"action":"insert","lines":["t"]},{"start":{"row":21,"column":47},"end":{"row":21,"column":48},"action":"insert","lines":["r"]},{"start":{"row":21,"column":48},"end":{"row":21,"column":49},"action":"insert","lines":["y"]}],[{"start":{"row":21,"column":49},"end":{"row":21,"column":50},"action":"insert","lines":["C"],"id":500},{"start":{"row":21,"column":50},"end":{"row":21,"column":51},"action":"insert","lines":["h"]},{"start":{"row":21,"column":51},"end":{"row":21,"column":52},"action":"insert","lines":["a"]},{"start":{"row":21,"column":52},"end":{"row":21,"column":53},"action":"insert","lines":["r"]},{"start":{"row":21,"column":53},"end":{"row":21,"column":54},"action":"insert","lines":["t"]}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":54},"action":"remove","lines":["countryChart"],"id":501},{"start":{"row":21,"column":42},"end":{"row":21,"column":54},"action":"insert","lines":["countryChart"]}],[{"start":{"row":22,"column":41},"end":{"row":22,"column":50},"action":"remove","lines":["dimension"],"id":502},{"start":{"row":22,"column":41},"end":{"row":22,"column":42},"action":"insert","lines":["C"]},{"start":{"row":22,"column":42},"end":{"row":22,"column":43},"action":"insert","lines":["o"]},{"start":{"row":22,"column":43},"end":{"row":22,"column":44},"action":"insert","lines":["u"]},{"start":{"row":22,"column":44},"end":{"row":22,"column":45},"action":"insert","lines":["n"]}],[{"start":{"row":22,"column":44},"end":{"row":22,"column":45},"action":"remove","lines":["n"],"id":503},{"start":{"row":22,"column":43},"end":{"row":22,"column":44},"action":"remove","lines":["u"]},{"start":{"row":22,"column":42},"end":{"row":22,"column":43},"action":"remove","lines":["o"]},{"start":{"row":22,"column":41},"end":{"row":22,"column":42},"action":"remove","lines":["C"]}],[{"start":{"row":22,"column":41},"end":{"row":22,"column":43},"action":"insert","lines":["''"],"id":504}],[{"start":{"row":22,"column":42},"end":{"row":22,"column":43},"action":"insert","lines":["C"],"id":505},{"start":{"row":22,"column":43},"end":{"row":22,"column":44},"action":"insert","lines":["o"]},{"start":{"row":22,"column":44},"end":{"row":22,"column":45},"action":"insert","lines":["u"]},{"start":{"row":22,"column":45},"end":{"row":22,"column":46},"action":"insert","lines":["n"]},{"start":{"row":22,"column":46},"end":{"row":22,"column":47},"action":"insert","lines":["t"]},{"start":{"row":22,"column":47},"end":{"row":22,"column":48},"action":"insert","lines":["r"]},{"start":{"row":22,"column":48},"end":{"row":22,"column":49},"action":"insert","lines":["y"]}],[{"start":{"row":24,"column":0},"end":{"row":28,"column":45},"action":"remove","lines":["","        // ??COLORS?? | custom colors passed below for this chart only","        //var myColors = d3.scaleOrdinal(d3.schemeSpectral[11]);","","        // ??RESET?? only this specific chart"],"id":506}],[{"start":{"row":25,"column":34},"end":{"row":25,"column":35},"action":"remove","lines":["e"],"id":507},{"start":{"row":25,"column":33},"end":{"row":25,"column":34},"action":"remove","lines":["n"]},{"start":{"row":25,"column":32},"end":{"row":25,"column":33},"action":"remove","lines":["i"]},{"start":{"row":25,"column":31},"end":{"row":25,"column":32},"action":"remove","lines":["s"]},{"start":{"row":25,"column":30},"end":{"row":25,"column":31},"action":"remove","lines":["i"]},{"start":{"row":25,"column":29},"end":{"row":25,"column":30},"action":"remove","lines":["u"]}],[{"start":{"row":25,"column":29},"end":{"row":25,"column":30},"action":"insert","lines":["o"],"id":508},{"start":{"row":25,"column":30},"end":{"row":25,"column":31},"action":"insert","lines":["u"]},{"start":{"row":25,"column":31},"end":{"row":25,"column":32},"action":"insert","lines":["n"]},{"start":{"row":25,"column":32},"end":{"row":25,"column":33},"action":"insert","lines":["t"]},{"start":{"row":25,"column":33},"end":{"row":25,"column":34},"action":"insert","lines":["r"]},{"start":{"row":25,"column":34},"end":{"row":25,"column":35},"action":"insert","lines":["y"]}],[{"start":{"row":26,"column":26},"end":{"row":26,"column":27},"action":"remove","lines":["e"],"id":509},{"start":{"row":26,"column":25},"end":{"row":26,"column":26},"action":"remove","lines":["n"]},{"start":{"row":26,"column":24},"end":{"row":26,"column":25},"action":"remove","lines":["i"]},{"start":{"row":26,"column":23},"end":{"row":26,"column":24},"action":"remove","lines":["s"]},{"start":{"row":26,"column":22},"end":{"row":26,"column":23},"action":"remove","lines":["i"]},{"start":{"row":26,"column":21},"end":{"row":26,"column":22},"action":"remove","lines":["u"]}],[{"start":{"row":26,"column":21},"end":{"row":26,"column":22},"action":"insert","lines":["o"],"id":510},{"start":{"row":26,"column":22},"end":{"row":26,"column":23},"action":"insert","lines":["u"]},{"start":{"row":26,"column":23},"end":{"row":26,"column":24},"action":"insert","lines":["n"]},{"start":{"row":26,"column":24},"end":{"row":26,"column":25},"action":"insert","lines":["t"]},{"start":{"row":26,"column":25},"end":{"row":26,"column":26},"action":"insert","lines":["r"]},{"start":{"row":26,"column":26},"end":{"row":26,"column":27},"action":"insert","lines":["y"]}],[{"start":{"row":30,"column":22},"end":{"row":30,"column":23},"action":"remove","lines":["e"],"id":511},{"start":{"row":30,"column":21},"end":{"row":30,"column":22},"action":"remove","lines":["n"]},{"start":{"row":30,"column":20},"end":{"row":30,"column":21},"action":"remove","lines":["i"]},{"start":{"row":30,"column":19},"end":{"row":30,"column":20},"action":"remove","lines":["s"]},{"start":{"row":30,"column":18},"end":{"row":30,"column":19},"action":"remove","lines":["i"]},{"start":{"row":30,"column":17},"end":{"row":30,"column":18},"action":"remove","lines":["u"]}],[{"start":{"row":30,"column":17},"end":{"row":30,"column":18},"action":"insert","lines":["o"],"id":512},{"start":{"row":30,"column":18},"end":{"row":30,"column":19},"action":"insert","lines":["u"]},{"start":{"row":30,"column":19},"end":{"row":30,"column":20},"action":"insert","lines":["n"]},{"start":{"row":30,"column":20},"end":{"row":30,"column":21},"action":"insert","lines":["t"]},{"start":{"row":30,"column":21},"end":{"row":30,"column":22},"action":"insert","lines":["r"]},{"start":{"row":30,"column":22},"end":{"row":30,"column":23},"action":"insert","lines":["y"]}],[{"start":{"row":31,"column":28},"end":{"row":31,"column":66},"action":"remove","lines":["// plucks the data (by Cuisine column)"],"id":513},{"start":{"row":31,"column":27},"end":{"row":31,"column":28},"action":"remove","lines":[" "]}],[{"start":{"row":32,"column":26},"end":{"row":32,"column":59},"action":"remove","lines":["// groups the data for this chart"],"id":514},{"start":{"row":32,"column":25},"end":{"row":32,"column":26},"action":"remove","lines":[" "]}],[{"start":{"row":33,"column":24},"end":{"row":33,"column":65},"action":"remove","lines":["// use carefully with .useViewBoxResizing"],"id":515}],[{"start":{"row":34,"column":25},"end":{"row":34,"column":66},"action":"remove","lines":["// use carefully with .useViewBoxResizing"],"id":516}],[{"start":{"row":35,"column":38},"end":{"row":35,"column":102},"action":"remove","lines":["// allows chart to be responsive (might need to add CSS 'width')"],"id":517}],[{"start":{"row":36,"column":29},"end":{"row":36,"column":98},"action":"remove","lines":["// creates ??DONUT?? effect on pie charts (disable for ??PIE?? chart)"],"id":518}],[{"start":{"row":37,"column":39},"end":{"row":37,"column":75},"action":"remove","lines":["// padding (but makes chart smaller)"],"id":519}],[{"start":{"row":38,"column":32},"end":{"row":38,"column":84},"action":"remove","lines":["// moves label text outward (otherwise in pie slice)"],"id":520}],[{"start":{"row":39,"column":29},"end":{"row":39,"column":57},"action":"remove","lines":["// shows line/path to labels"],"id":521}],[{"start":{"row":40,"column":27},"end":{"row":40,"column":70},"action":"remove","lines":["// maximum number of items to show on chart"],"id":522}],[{"start":{"row":41,"column":33},"end":{"row":41,"column":99},"action":"remove","lines":["// from 0 to 1 (ie: 0.25) // min-size per slice to display a label"],"id":523}],[{"start":{"row":42,"column":38},"end":{"row":42,"column":65},"action":"remove","lines":["// animation speed (1000ms)"],"id":524}],[{"start":{"row":40,"column":0},"end":{"row":40,"column":27},"action":"remove","lines":["            .slicesCap(20) "],"id":525},{"start":{"row":39,"column":29},"end":{"row":40,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":43},"action":"insert","lines":["'"],"id":526}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":43},"action":"remove","lines":["'"],"id":527}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":43},"action":"insert","lines":["#"],"id":528}],[{"start":{"row":21,"column":42},"end":{"row":21,"column":43},"action":"remove","lines":["#"],"id":529}],[{"start":{"row":22,"column":41},"end":{"row":22,"column":42},"action":"remove","lines":["'"],"id":530}],[{"start":{"row":22,"column":48},"end":{"row":22,"column":49},"action":"remove","lines":["'"],"id":531}],[{"start":{"row":22,"column":41},"end":{"row":22,"column":42},"action":"remove","lines":["C"],"id":532}],[{"start":{"row":22,"column":41},"end":{"row":22,"column":42},"action":"insert","lines":["c"],"id":533}],[{"start":{"row":13,"column":59},"end":{"row":13,"column":116},"action":"remove","lines":[" // pieChart on div#cuisine from column 'Cuisine' in file"],"id":534}],[{"start":{"row":0,"column":0},"end":{"row":64,"column":9},"action":"remove","lines":["$(document).ready(function() {","","","            d3.json(\"../data/archive.json\").then(makeGraphs);","","            function makeGraphs(error, archiveData) {","                var ndx = crossfilter(archiveData);","                var allData = ndx.groupAll();","","                dc.dataCount(\"#total\")","                    .crossfilter(ndx)","                    .groupAll(allData);","","                byCountry(ndx, \"#countryChart\", \"Country\");","","                dc.renderAll();","            }","            ","            ","            function byCountry(ndx, countryChart, Country) {","  ","        var pieChartCountry = dc.pieChart(countryChart);","        var dim = ndx.dimension(dc.pluck(country));","        var group = dim.group();","","        d3.selectAll(\"#resetCountry\").on(\"click\", function () {","            pieChartCountry.filterAll();","            dc.redrawAll();","        });","","        pieChartCountry","            .dimension(dim)","            .group(group)","            .width(250) ","            .height(150) ","            .useViewBoxResizing(true) ","            .innerRadius(30) ","            .externalRadiusPadding(10) ","            .externalLabels(10) ","            .drawPaths(true) ","            .minAngleForLabel(0) ","            .transitionDuration(1000) ","            .transitionDelay(500) // delay animation start (by 500ms)","            .title(function (d) { // hover text with info per chart item","                if (d.value === 1) { // if filtered to only '1' item","                    return d.value + \" restaurant is \" + d.key; // then make the text singular","                } else { // otherwise","                    return d.value + \" restaurants are \" + d.key; // make the text plural","                }","            })","        //.colors(myColors) // custom color scheme for this chart only","        // .legend shows a small legend or key on the chart","        //.legend(dc.legend().x(0).y(0).itemHeight(5).gap(5))","        // below function will append the amount of items filtered per option on the legend","        /*.on(\"pretransition\", function (chart) {","            chart.selectAll(\".dc-legend-item text\")","                .text(function (d) {","                    return d.name + \" (\" + d.data + \")\"; // ie: \"Italian (455)\"","                })","        })*/","        ;","    }","","","        }"],"id":535}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1563925305442,"hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc"}